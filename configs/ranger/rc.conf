# ==========================================================
#   RANGER CONFIG - ETHEREAL MODE
#   ~/.config/ranger/rc.conf
# ==========================================================

# ===================================================================
# BASIC SETTINGS
# ===================================================================

# Which viewmode should be used? (miller, multipane)
set viewmode miller

# How many columns are there, and what are their relative widths?
set column_ratios 1,3,4

# Show hidden files? (toggle with 'zh')
set show_hidden false

# Ask for confirmation on certain operations
set confirm_on_delete multiple
set save_console_history true
set save_backtick_bookmark true

# Which script is used to generate file previews?
set preview_script ~/.config/ranger/scope.sh

# Use the external preview script or display internal plain text?
set use_preview_script true

# Automatically count files in directory, even when not previewing?
set automatically_count_files true

# Open all images in this directory when running certain image viewers
set open_all_images true

# Be aware of version control systems and display info
set vcs_aware true

# State of the four backends git, hg, bzr, svn. Format: [git, hg, bzr, svn]
set vcs_backend_git enabled
set vcs_backend_hg disabled
set vcs_backend_bzr disabled
set vcs_backend_svn disabled

# Use one of the supported image preview protocols
set preview_images true

# Method for image previews:
# - w3m: using w3mimgdisplay
# - kitty: using kitty's icat
# - ueberzug: using ueberzug
set preview_images_method kitty

# Delay in seconds before displaying an image with the w3m method
set w3m_delay 0.02

# Default iTerm2 font size
set iterm2_font_width 8
set iterm2_font_height 11

# Preview images in full color with kitty
set preview_max_size 0

# ===================================================================
# VISUAL SETTINGS
# ===================================================================

# Draw borders around columns?
set draw_borders both

# Display the directory name in tabs?
set dirname_in_tabs true

# Mouse support?
set mouse_enabled true

# Display the file size in the main column or status bar?
set display_size_in_main_column true
set display_size_in_status_bar true

# Display files tags in all columns or only in main column?
set display_tags_in_all_columns true

# Set a title for the window?
set update_title true

# Set the title to "ranger" in the tmux program?
set update_tmux_title true

# Shorten the title if it gets long?
set shorten_title 3

# Show hostname in titlebar?
set hostname_in_titlebar false

# Abbreviate $HOME with ~ in the titlebar (first line) of ranger?
set tilde_in_titlebar true

# How many directory-changes or console-commands should be kept in history?
set max_history_size 20
set max_console_history_size 50

# Try to keep so much space between the top/bottom border when scrolling
set scroll_offset 8

# Flush the input after each key hit?
set flushinput true

# Padding on the right when there's no preview?
set padding_right true

# Status bar on the bottom
set status_bar_on_top false

# Save bookmarks (used with mX and `X) instantly?
set autosave_bookmarks false

# Save the "`" bookmark to disk
set save_backtick_bookmark false

# You can display the "file tags" in the tab bar:
set show_selection_in_titlebar true

# One of: false, simple, all
set metadata_deep_search false

# Clear all existing filters when leaving a directory
set clear_filters_on_dir_change true

# Disable displaying line numbers in main column
set line_numbers relative

# Start line numbers from 1 instead of 0
set one_indexed false

# Save tabs on exit
set save_tabs_on_exit false

# Enable scroll wrapping
set wrap_scroll false

# Set the global_inode_type_filter to nothing
set global_inode_type_filter

# Freeze the files list
set freeze_files false

# ===================================================================
# COLORSCHEME
# ===================================================================

# Use custom colorscheme
set colorscheme ethereal

# ===================================================================
# KEY BINDINGS
# ===================================================================

# Basic movements
map j move down=1
map k move up=1
map h move left=1
map l move right=1
map gg move to=0
map G move to=-1

# Tabs
map tn tab_new
map tc tab_close
map tl tab_move 1
map th tab_move -1
map gt tab_move 1
map gT tab_move -1

# File operations
map dd cut
map yy copy
map pp paste
map po paste overwrite=True
map pl paste_symlink relative=False
map pL paste_symlink relative=True
map phl paste_hardlink
map pht paste_hardlinked_subtree

# Delete
map dD console delete

# Rename
map cw console rename%space
map a rename_append
map A eval fm.open_console('rename ' + fm.thisfile.relative_path.replace("%", "%%"))
map I eval fm.open_console('rename ' + fm.thisfile.relative_path.replace("%", "%%"), position=7)

# Create
map mkd console mkdir%space
map mkf console touch%space

# Searching
map / console search%space
map n search_next
map N search_next forward=False

# Sorting
map or set sort_reverse!
map oz set sort=random
map os chain set sort=size; set sort_reverse=False
map ob chain set sort=basename; set sort_reverse=False
map on chain set sort=natural; set sort_reverse=False
map om chain set sort=mtime; set sort_reverse=False
map oc chain set sort=ctime; set sort_reverse=False
map oa chain set sort=atime; set sort_reverse=False
map ot chain set sort=type; set sort_reverse=False
map oe chain set sort=extension; set sort_reverse=False

# Settings
map zc set collapse_preview!
map zd set sort_directories_first!
map zh set show_hidden!
map zi set flushinput!
map zm set mouse_enabled!
map zp set preview_files!
map zP set preview_directories!
map zs set sort_case_insensitive!
map zu set autoupdate_cumulative_size!
map zv set use_preview_script!
map zf console filter%space

# External programs
map E edit
map du shell -p du --max-depth=1 -h --apparent-size
map dU shell -p du --max-depth=1 -h --apparent-size | sort -rh

# Image viewing
map bg shell cp %f ~/Pictures/Wallpapers/ && nitrogen --set-zoom-fill %f
map bgl shell nitrogen --set-zoom-fill %f

# ===================================================================
# COMMANDS
# ===================================================================

# Extract archives
map ex extract

# Compress
map ec compress

# Show hidden files
map . set show_hidden!
